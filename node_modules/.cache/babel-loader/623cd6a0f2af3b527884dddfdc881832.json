{"ast":null,"code":"import _toConsumableArray from \"/Users/matek/Desktop/myCloud/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"/Users/matek/Desktop/myCloud/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _taggedTemplateLiteral from \"/Users/matek/Desktop/myCloud/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"/Users/matek/Desktop/myCloud/src/Components/WeatherApp.js\";\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  @import url(\\\"https://fonts.googleapis.com/css?family=Exo:800&display=swap\\\");\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  justify-content: center;\\n  width: 100vw;\\n  min-height: 100vh;\\n  background: url(\\\"https://images.pexels.com/photos/695657/pexels-photo-695657.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=750&w=1260\\\")\\n    center center;\\n  background-size: cover;\\n\\n  > h1 {\\n    font-family: \\\"Exo\\\", sans-serif;\\n    color: rgb(245, 245, 245);\\n    text-shadow: 0 0 1px rgb(245, 245, 245);\\n    font-size: 35px;\\n    display: flex;\\n    flex-direction: column;\\n    span {\\n      font-size: 16px;\\n      position: relative;\\n      top: 6px;\\n    }\\n  }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\nimport DisplaySection from \"./Sections/DisplaySection/DisplaySection\";\nimport SearchSection from \"./Sections/SearchSection/SearchSection\";\nimport HeroImg from \"./HeroImg/HeroImg\";\nimport { connect } from \"react-redux\";\nvar StyledMain = styled.main(_templateObject());\n\nvar WeatherApp = function WeatherApp(_ref) {\n  var handleCitySearch = _ref.handleCitySearch;\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      searchedCity = _useState2[0],\n      setSearchedCity = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      city = _useState4[0],\n      setCity = _useState4[1];\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      list = _useState6[0],\n      setList = _useState6[1];\n\n  useEffect(function () {\n    var key = \"852bef2232b1fa115bee70b5c83d1bb2\";\n    var lang = \"pl\";\n\n    if (city !== \"\") {\n      fetch(\"//api.openweathermap.org/data/2.5/weather?lang=\".concat(lang, \"&q=\").concat(city, \"&APPID=\").concat(key)).then(function (response) {\n        return response.ok ? response.json() : alert(\"Nieprawidłowa nazwa lokalizacji, spróbuj ponownie\");\n      }).then(function (data) {\n        return data !== undefined ? setList([data].concat(_toConsumableArray(list))) : undefined;\n      }).then(console.log(list));\n    }\n  }, [city]); // const handleCitySearch = e => {\n  //   setSearchedCity(e.target.value);\n  // };\n\n  var handleSearchClick = function handleSearchClick(e) {\n    e.preventDefault(); // searchedCity === \"\" ? alert(\"Wpisz nazwę miasta\") : setCity(searchedCity);\n    // setSearchedCity(\"\");\n\n    handleCitySearch();\n  };\n\n  return React.createElement(StyledMain, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, \"my\"), \"Cloud\"), React.createElement(SearchSection // handleCitySearch={handleCitySearch}\n  // searchedCity={searchedCity}\n  , {\n    handleSearchClick: handleSearchClick,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }), !list.length > 0 ? React.createElement(HeroImg, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }) : React.createElement(DisplaySection, {\n    list: list,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }));\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    searchedCity: state.searchedCity,\n    list: state.list\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    handleCitySearch: function handleCitySearch() {\n      var key = \"852bef2232b1fa115bee70b5c83d1bb2\";\n      var lang = \"pl\";\n      var city = \"czacz\";\n\n      if (city !== \"\") {\n        fetch(\"//api.openweathermap.org/data/2.5/weather?lang=\".concat(lang, \"&q=\").concat(city, \"&APPID=\").concat(key)).then(function (response) {\n          return response.ok ? response.json() : alert(\"Nieprawidłowa nazwa lokalizacji, spróbuj ponownie\");\n        }).then(function (data) {\n          return data !== undefined ? dispatch({\n            type: \"WEATHER_SEARCH\",\n            list: _toConsumableArray(data)\n          }) : undefined;\n        }).then(console.log(list));\n      }\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(WeatherApp);","map":{"version":3,"sources":["/Users/matek/Desktop/myCloud/src/Components/WeatherApp.js"],"names":["React","useEffect","useState","styled","DisplaySection","SearchSection","HeroImg","connect","StyledMain","main","WeatherApp","handleCitySearch","searchedCity","setSearchedCity","city","setCity","list","setList","key","lang","fetch","then","response","ok","json","alert","data","undefined","console","log","handleSearchClick","e","preventDefault","length","mapStateToProps","state","mapDispatchToProps","dispatch","type"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\nimport DisplaySection from \"./Sections/DisplaySection/DisplaySection\";\nimport SearchSection from \"./Sections/SearchSection/SearchSection\";\nimport HeroImg from \"./HeroImg/HeroImg\";\nimport { connect } from \"react-redux\";\n\nconst StyledMain = styled.main`\n  @import url(\"https://fonts.googleapis.com/css?family=Exo:800&display=swap\");\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  width: 100vw;\n  min-height: 100vh;\n  background: url(\"https://images.pexels.com/photos/695657/pexels-photo-695657.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=750&w=1260\")\n    center center;\n  background-size: cover;\n\n  > h1 {\n    font-family: \"Exo\", sans-serif;\n    color: rgb(245, 245, 245);\n    text-shadow: 0 0 1px rgb(245, 245, 245);\n    font-size: 35px;\n    display: flex;\n    flex-direction: column;\n    span {\n      font-size: 16px;\n      position: relative;\n      top: 6px;\n    }\n  }\n`;\n\nconst WeatherApp = ({ handleCitySearch }) => {\n  const [searchedCity, setSearchedCity] = useState(\"\");\n  const [city, setCity] = useState(\"\");\n  const [list, setList] = useState([]);\n\n  useEffect(() => {\n    const key = \"852bef2232b1fa115bee70b5c83d1bb2\";\n    const lang = \"pl\";\n    if (city !== \"\") {\n      fetch(\n        `//api.openweathermap.org/data/2.5/weather?lang=${lang}&q=${city}&APPID=${key}`\n      )\n        .then(response =>\n          response.ok\n            ? response.json()\n            : alert(\"Nieprawidłowa nazwa lokalizacji, spróbuj ponownie\")\n        )\n        .then(data =>\n          data !== undefined ? setList([data, ...list]) : undefined\n        )\n        .then(console.log(list));\n    }\n  }, [city]);\n\n  // const handleCitySearch = e => {\n  //   setSearchedCity(e.target.value);\n  // };\n\n  const handleSearchClick = e => {\n    e.preventDefault();\n    // searchedCity === \"\" ? alert(\"Wpisz nazwę miasta\") : setCity(searchedCity);\n    // setSearchedCity(\"\");\n    handleCitySearch();\n  };\n\n  return (\n    <StyledMain>\n      <h1>\n        <span>my</span>Cloud\n      </h1>\n      <SearchSection\n        // handleCitySearch={handleCitySearch}\n        // searchedCity={searchedCity}\n        handleSearchClick={handleSearchClick}\n      />\n      {!list.length > 0 ? <HeroImg /> : <DisplaySection list={list} />}\n    </StyledMain>\n  );\n};\n\nconst mapStateToProps = state => {\n  return {\n    searchedCity: state.searchedCity,\n    list: state.list\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    handleCitySearch: () => {\n      const key = \"852bef2232b1fa115bee70b5c83d1bb2\";\n      const lang = \"pl\";\n      const city = \"czacz\";\n      if (city !== \"\") {\n        fetch(\n          `//api.openweathermap.org/data/2.5/weather?lang=${lang}&q=${city}&APPID=${key}`\n        )\n          .then(response =>\n            response.ok\n              ? response.json()\n              : alert(\"Nieprawidłowa nazwa lokalizacji, spróbuj ponownie\")\n          )\n          .then(data =>\n            data !== undefined\n              ? dispatch({ type: \"WEATHER_SEARCH\", list: [...data] })\n              : undefined\n          )\n          .then(console.log(list));\n      }\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(WeatherApp);\n"]},"metadata":{},"sourceType":"module"}