{"ast":null,"code":"import _toConsumableArray from \"/Users/matek/Desktop/myCloud/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _taggedTemplateLiteral from \"/Users/matek/Desktop/myCloud/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"/Users/matek/Desktop/myCloud/src/Components/WeatherApp.js\";\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  @import url(\\\"https://fonts.googleapis.com/css?family=Exo:800&display=swap\\\");\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  justify-content: center;\\n  width: 100vw;\\n  min-height: 100vh;\\n  background: url(\\\"https://images.pexels.com/photos/695657/pexels-photo-695657.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=750&w=1260\\\")\\n    center center;\\n  background-size: cover;\\n\\n  > h1 {\\n    font-family: \\\"Exo\\\", sans-serif;\\n    color: rgb(245, 245, 245);\\n    text-shadow: 0 0 1px rgb(245, 245, 245);\\n    font-size: 35px;\\n    display: flex;\\n    flex-direction: column;\\n    span {\\n      font-size: 16px;\\n      position: relative;\\n      top: 6px;\\n    }\\n  }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\nimport DisplaySection from \"./Sections/DisplaySection/DisplaySection\";\nimport SearchSection from \"./Sections/SearchSection/SearchSection\";\nimport HeroImg from \"./HeroImg/HeroImg\";\nimport { connect } from \"react-redux\";\nvar StyledMain = styled.main(_templateObject());\n\nvar WeatherApp = function WeatherApp(_ref) {\n  var handleCitySearch = _ref.handleCitySearch,\n      list = _ref.list,\n      searchedCity = _ref.searchedCity;\n\n  // const handleCitySearch = e => {\n  //   setSearchedCity(e.target.value);\n  // };\n  var handleSearchClick = function handleSearchClick(e) {\n    e.preventDefault(); // searchedCity === \"\" ? alert(\"Wpisz nazwę miasta\") : setCity(searchedCity);\n    // setSearchedCity(\"\");\n\n    handleCitySearch(list, searchedCity);\n  };\n\n  return React.createElement(StyledMain, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, \"my\"), \"Cloud\"), React.createElement(SearchSection // handleCitySearch={handleCitySearch}\n  // searchedCity={searchedCity}\n  , {\n    handleSearchClick: handleSearchClick,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }), !list.length > 0 ? React.createElement(HeroImg, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }) : React.createElement(DisplaySection, {\n    list: list,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }));\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    searchedCity: state.searchedCity,\n    list: state.list\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    handleCitySearch: function handleCitySearch(list, searchedCity) {\n      var key = \"852bef2232b1fa115bee70b5c83d1bb2\";\n      var lang = \"pl\";\n\n      if (searchedCity !== \"\") {\n        fetch(\"//api.openweathermap.org/data/2.5/weather?lang=\".concat(lang, \"&q=\").concat(searchedCity, \"&APPID=\").concat(key)).then(function (response) {\n          return response.ok ? response.json() : alert(\"Nieprawidłowa nazwa lokalizacji, spróbuj ponownie\");\n        }).then(function (data) {\n          return data !== undefined ? dispatch({\n            type: \"WEATHER_SEARCH\",\n            list: [data].concat(_toConsumableArray(list))\n          }) : undefined;\n        }).then(dispatch({\n          type: \"CLEAN_INPUT\"\n        }));\n      }\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(WeatherApp);","map":{"version":3,"sources":["/Users/matek/Desktop/myCloud/src/Components/WeatherApp.js"],"names":["React","useEffect","useState","styled","DisplaySection","SearchSection","HeroImg","connect","StyledMain","main","WeatherApp","handleCitySearch","list","searchedCity","handleSearchClick","e","preventDefault","length","mapStateToProps","state","mapDispatchToProps","dispatch","key","lang","fetch","then","response","ok","json","alert","data","undefined","type"],"mappings":";;;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,OAAOC,cAAP,MAA2B,0CAA3B;AACA,OAAOC,aAAP,MAA0B,wCAA1B;AACA,OAAOC,OAAP,MAAoB,mBAApB;AACA,SAASC,OAAT,QAAwB,aAAxB;AAEA,IAAMC,UAAU,GAAGL,MAAM,CAACM,IAAV,mBAAhB;;AA2BA,IAAMC,UAAU,GAAG,SAAbA,UAAa,OAA8C;AAAA,MAA3CC,gBAA2C,QAA3CA,gBAA2C;AAAA,MAAzBC,IAAyB,QAAzBA,IAAyB;AAAA,MAAnBC,YAAmB,QAAnBA,YAAmB;;AAC/D;AACA;AACA;AAEA,MAAMC,iBAAiB,GAAG,SAApBA,iBAAoB,CAAAC,CAAC,EAAI;AAC7BA,IAAAA,CAAC,CAACC,cAAF,GAD6B,CAE7B;AACA;;AACAL,IAAAA,gBAAgB,CAACC,IAAD,EAAOC,YAAP,CAAhB;AACD,GALD;;AAOA,SACE,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF,UADF,EAIE,oBAAC,aAAD,CACE;AACA;AAFF;AAGE,IAAA,iBAAiB,EAAEC,iBAHrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJF,EASG,CAACF,IAAI,CAACK,MAAN,GAAe,CAAf,GAAmB,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAnB,GAAiC,oBAAC,cAAD;AAAgB,IAAA,IAAI,EAAEL,IAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IATpC,CADF;AAaD,CAzBD;;AA2BA,IAAMM,eAAe,GAAG,SAAlBA,eAAkB,CAAAC,KAAK,EAAI;AAC/B,SAAO;AACLN,IAAAA,YAAY,EAAEM,KAAK,CAACN,YADf;AAELD,IAAAA,IAAI,EAAEO,KAAK,CAACP;AAFP,GAAP;AAID,CALD;;AAOA,IAAMQ,kBAAkB,GAAG,SAArBA,kBAAqB,CAAAC,QAAQ,EAAI;AACrC,SAAO;AACLV,IAAAA,gBAAgB,EAAE,0BAACC,IAAD,EAAOC,YAAP,EAAwB;AACxC,UAAMS,GAAG,GAAG,kCAAZ;AACA,UAAMC,IAAI,GAAG,IAAb;;AACA,UAAIV,YAAY,KAAK,EAArB,EAAyB;AACvBW,QAAAA,KAAK,0DAC+CD,IAD/C,gBACyDV,YADzD,oBAC+ES,GAD/E,EAAL,CAGGG,IAHH,CAGQ,UAAAC,QAAQ;AAAA,iBACZA,QAAQ,CAACC,EAAT,GACID,QAAQ,CAACE,IAAT,EADJ,GAEIC,KAAK,CAAC,mDAAD,CAHG;AAAA,SAHhB,EAQGJ,IARH,CAQQ,UAAAK,IAAI;AAAA,iBACRA,IAAI,KAAKC,SAAT,GACIV,QAAQ,CAAC;AAAEW,YAAAA,IAAI,EAAE,gBAAR;AAA0BpB,YAAAA,IAAI,GAAGkB,IAAH,4BAAYlB,IAAZ;AAA9B,WAAD,CADZ,GAEImB,SAHI;AAAA,SARZ,EAaGN,IAbH,CAaQJ,QAAQ,CAAC;AAAEW,UAAAA,IAAI,EAAE;AAAR,SAAD,CAbhB;AAcD;AACF;AApBI,GAAP;AAsBD,CAvBD;;AAyBA,eAAezB,OAAO,CAACW,eAAD,EAAkBE,kBAAlB,CAAP,CAA6CV,UAA7C,CAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\nimport DisplaySection from \"./Sections/DisplaySection/DisplaySection\";\nimport SearchSection from \"./Sections/SearchSection/SearchSection\";\nimport HeroImg from \"./HeroImg/HeroImg\";\nimport { connect } from \"react-redux\";\n\nconst StyledMain = styled.main`\n  @import url(\"https://fonts.googleapis.com/css?family=Exo:800&display=swap\");\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  width: 100vw;\n  min-height: 100vh;\n  background: url(\"https://images.pexels.com/photos/695657/pexels-photo-695657.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=750&w=1260\")\n    center center;\n  background-size: cover;\n\n  > h1 {\n    font-family: \"Exo\", sans-serif;\n    color: rgb(245, 245, 245);\n    text-shadow: 0 0 1px rgb(245, 245, 245);\n    font-size: 35px;\n    display: flex;\n    flex-direction: column;\n    span {\n      font-size: 16px;\n      position: relative;\n      top: 6px;\n    }\n  }\n`;\n\nconst WeatherApp = ({ handleCitySearch, list, searchedCity }) => {\n  // const handleCitySearch = e => {\n  //   setSearchedCity(e.target.value);\n  // };\n\n  const handleSearchClick = e => {\n    e.preventDefault();\n    // searchedCity === \"\" ? alert(\"Wpisz nazwę miasta\") : setCity(searchedCity);\n    // setSearchedCity(\"\");\n    handleCitySearch(list, searchedCity);\n  };\n\n  return (\n    <StyledMain>\n      <h1>\n        <span>my</span>Cloud\n      </h1>\n      <SearchSection\n        // handleCitySearch={handleCitySearch}\n        // searchedCity={searchedCity}\n        handleSearchClick={handleSearchClick}\n      />\n      {!list.length > 0 ? <HeroImg /> : <DisplaySection list={list} />}\n    </StyledMain>\n  );\n};\n\nconst mapStateToProps = state => {\n  return {\n    searchedCity: state.searchedCity,\n    list: state.list\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    handleCitySearch: (list, searchedCity) => {\n      const key = \"852bef2232b1fa115bee70b5c83d1bb2\";\n      const lang = \"pl\";\n      if (searchedCity !== \"\") {\n        fetch(\n          `//api.openweathermap.org/data/2.5/weather?lang=${lang}&q=${searchedCity}&APPID=${key}`\n        )\n          .then(response =>\n            response.ok\n              ? response.json()\n              : alert(\"Nieprawidłowa nazwa lokalizacji, spróbuj ponownie\")\n          )\n          .then(data =>\n            data !== undefined\n              ? dispatch({ type: \"WEATHER_SEARCH\", list: [data, ...list] })\n              : undefined\n          )\n          .then(dispatch({ type: \"CLEAN_INPUT\" }));\n      }\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(WeatherApp);\n"]},"metadata":{},"sourceType":"module"}