{"ast":null,"code":"import _toConsumableArray from \"/Users/matek/Desktop/myCloud/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _taggedTemplateLiteral from \"/Users/matek/Desktop/myCloud/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"/Users/matek/Desktop/myCloud/src/Components/WeatherApp.js\";\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  @import url(\\\"https://fonts.googleapis.com/css?family=Exo:800&display=swap\\\");\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  justify-content: center;\\n  width: 100vw;\\n  min-height: 100vh;\\n  background: url(\\\"https://images.pexels.com/photos/695657/pexels-photo-695657.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=750&w=1260\\\")\\n    center center;\\n  background-size: cover;\\n\\n  > h1 {\\n    font-family: \\\"Exo\\\", sans-serif;\\n    color: rgb(245, 245, 245);\\n    text-shadow: 0 0 1px rgb(245, 245, 245);\\n    font-size: 35px;\\n    display: flex;\\n    flex-direction: column;\\n    span {\\n      font-size: 16px;\\n      position: relative;\\n      top: 6px;\\n    }\\n  }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\nimport DisplaySection from \"./Sections/DisplaySection/DisplaySection\";\nimport SearchSection from \"./Sections/SearchSection/SearchSection\";\nimport HeroImg from \"./HeroImg/HeroImg\";\nimport { connect } from \"react-redux\";\nvar StyledMain = styled.main(_templateObject());\n\nvar WeatherApp = function WeatherApp(_ref) {\n  var searchedCity = _ref.searchedCity;\n  return React.createElement(StyledMain, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, \"my\"), \"Cloud\"), React.createElement(SearchSection, {\n    handleSearchClick: handleCitySearch,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }), !list.length > 0 ? React.createElement(HeroImg, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }) : React.createElement(DisplaySection, {\n    list: list,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }));\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    searchedCity: state.searchedCity,\n    list: state.list\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(state) {\n  var handleCitySearch = function handleCitySearch() {\n    var key = \"852bef2232b1fa115bee70b5c83d1bb2\";\n    var lang = \"pl\";\n\n    if (searchedCity !== \"\") {\n      fetch(\"//api.openweathermap.org/data/2.5/weather?lang=\".concat(lang, \"&q=\").concat(searchedCity, \"&APPID=\").concat(key)).then(function (response) {\n        return response.ok ? response.json() : alert(\"Nieprawidłowa nazwa lokalizacji, spróbuj ponownie\");\n      }).then(function (data) {\n        return data !== undefined ? setList([data].concat(_toConsumableArray(list))) : undefined;\n      }).then(console.log(list));\n    }\n  };\n\n  dispatch(handleCitySearch);\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(WeatherApp);","map":{"version":3,"sources":["/Users/matek/Desktop/myCloud/src/Components/WeatherApp.js"],"names":["React","useEffect","useState","styled","DisplaySection","SearchSection","HeroImg","connect","StyledMain","main","WeatherApp","searchedCity","handleCitySearch","list","length","mapStateToProps","state","mapDispatchToProps","key","lang","fetch","then","response","ok","json","alert","data","undefined","setList","console","log","dispatch"],"mappings":";;;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,OAAOC,cAAP,MAA2B,0CAA3B;AACA,OAAOC,aAAP,MAA0B,wCAA1B;AACA,OAAOC,OAAP,MAAoB,mBAApB;AACA,SAASC,OAAT,QAAwB,aAAxB;AAEA,IAAMC,UAAU,GAAGL,MAAM,CAACM,IAAV,mBAAhB;;AA2BA,IAAMC,UAAU,GAAG,SAAbA,UAAa,OAAsB;AAAA,MAAnBC,YAAmB,QAAnBA,YAAmB;AACvC,SACE,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF,UADF,EAIE,oBAAC,aAAD;AAAe,IAAA,iBAAiB,EAAEC,gBAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJF,EAKG,CAACC,IAAI,CAACC,MAAN,GAAe,CAAf,GAAmB,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAnB,GAAiC,oBAAC,cAAD;AAAgB,IAAA,IAAI,EAAED,IAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALpC,CADF;AASD,CAVD;;AAYA,IAAME,eAAe,GAAG,SAAlBA,eAAkB,CAAAC,KAAK,EAAI;AAC/B,SAAO;AACLL,IAAAA,YAAY,EAAEK,KAAK,CAACL,YADf;AAELE,IAAAA,IAAI,EAAEG,KAAK,CAACH;AAFP,GAAP;AAID,CALD;;AAOA,IAAMI,kBAAkB,GAAG,SAArBA,kBAAqB,CAAAD,KAAK,EAAI;AAClC,MAAMJ,gBAAgB,GAAG,SAAnBA,gBAAmB,GAAM;AAC7B,QAAMM,GAAG,GAAG,kCAAZ;AACA,QAAMC,IAAI,GAAG,IAAb;;AACA,QAAIR,YAAY,KAAK,EAArB,EAAyB;AACvBS,MAAAA,KAAK,0DAC+CD,IAD/C,gBACyDR,YADzD,oBAC+EO,GAD/E,EAAL,CAGGG,IAHH,CAGQ,UAAAC,QAAQ;AAAA,eACZA,QAAQ,CAACC,EAAT,GACID,QAAQ,CAACE,IAAT,EADJ,GAEIC,KAAK,CAAC,mDAAD,CAHG;AAAA,OAHhB,EAQGJ,IARH,CAQQ,UAAAK,IAAI;AAAA,eACRA,IAAI,KAAKC,SAAT,GAAqBC,OAAO,EAAEF,IAAF,4BAAWb,IAAX,GAA5B,GAAgDc,SADxC;AAAA,OARZ,EAWGN,IAXH,CAWQQ,OAAO,CAACC,GAAR,CAAYjB,IAAZ,CAXR;AAYD;AACF,GAjBD;;AAkBAkB,EAAAA,QAAQ,CAACnB,gBAAD,CAAR;AACD,CApBD;;AAsBA,eAAeL,OAAO,CAACQ,eAAD,EAAkBE,kBAAlB,CAAP,CAA6CP,UAA7C,CAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\nimport DisplaySection from \"./Sections/DisplaySection/DisplaySection\";\nimport SearchSection from \"./Sections/SearchSection/SearchSection\";\nimport HeroImg from \"./HeroImg/HeroImg\";\nimport { connect } from \"react-redux\";\n\nconst StyledMain = styled.main`\n  @import url(\"https://fonts.googleapis.com/css?family=Exo:800&display=swap\");\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  width: 100vw;\n  min-height: 100vh;\n  background: url(\"https://images.pexels.com/photos/695657/pexels-photo-695657.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=750&w=1260\")\n    center center;\n  background-size: cover;\n\n  > h1 {\n    font-family: \"Exo\", sans-serif;\n    color: rgb(245, 245, 245);\n    text-shadow: 0 0 1px rgb(245, 245, 245);\n    font-size: 35px;\n    display: flex;\n    flex-direction: column;\n    span {\n      font-size: 16px;\n      position: relative;\n      top: 6px;\n    }\n  }\n`;\n\nconst WeatherApp = ({ searchedCity }) => {\n  return (\n    <StyledMain>\n      <h1>\n        <span>my</span>Cloud\n      </h1>\n      <SearchSection handleSearchClick={handleCitySearch} />\n      {!list.length > 0 ? <HeroImg /> : <DisplaySection list={list} />}\n    </StyledMain>\n  );\n};\n\nconst mapStateToProps = state => {\n  return {\n    searchedCity: state.searchedCity,\n    list: state.list\n  };\n};\n\nconst mapDispatchToProps = state => {\n  const handleCitySearch = () => {\n    const key = \"852bef2232b1fa115bee70b5c83d1bb2\";\n    const lang = \"pl\";\n    if (searchedCity !== \"\") {\n      fetch(\n        `//api.openweathermap.org/data/2.5/weather?lang=${lang}&q=${searchedCity}&APPID=${key}`\n      )\n        .then(response =>\n          response.ok\n            ? response.json()\n            : alert(\"Nieprawidłowa nazwa lokalizacji, spróbuj ponownie\")\n        )\n        .then(data =>\n          data !== undefined ? setList([data, ...list]) : undefined\n        )\n        .then(console.log(list));\n    }\n  };\n  dispatch(handleCitySearch);\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(WeatherApp);\n"]},"metadata":{},"sourceType":"module"}